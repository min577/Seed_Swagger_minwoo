# ğŸ… í† ë§ˆí†  ìŠ¤ë§ˆíŠ¸íŒœ REST API with Swagger v2.0

í† ë§ˆí†  ìŠ¤ë§ˆíŠ¸íŒœ ê´€ë¦¬ ì‹œìŠ¤í…œ REST API ë¬¸ì„œ - Swagger/OpenAPI 3.0 ê¸°ë°˜

## ğŸ“‹ í”„ë¡œì íŠ¸ ì†Œê°œ

SEED FARM í† ë§ˆí†  ìŠ¤ë§ˆíŠ¸íŒœ ì‹œìŠ¤í…œì˜ ë°±ì—”ë“œ REST API ì„œë²„ì…ë‹ˆë‹¤. n8n ì›Œí¬í”Œë¡œìš° ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë©°, IoT ì¹´ë©”ë¼ ì œì–´, AI ê¸°ë°˜ í† ë§ˆí†  ë¶„ì„, ì‹œì¥ ê°€ê²© ì¡°íšŒ, ìˆ˜í™•ëŸ‰ ì˜ˆì¸¡ ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

| ì¹´í…Œê³ ë¦¬ | ê¸°ëŠ¥ | ì„¤ëª… |
|---------|------|------|
| ğŸ“Š **ë°ì´í„°** | ì‹¤ì‹œê°„/íˆìŠ¤í† ë¦¬ ì¡°íšŒ | InfluxDB ê¸°ë°˜ ì‹œê³„ì—´ ë°ì´í„° |
| ğŸ¥ **ì¹´ë©”ë¼** | ì›ê²© ì œì–´ | ë¼ì¦ˆë² ë¦¬íŒŒì´ ì¹´ë©”ë¼ ì´¬ì˜/ëª¨ë‹ˆí„°ë§ |
| ğŸ¤– **AI ë¶„ì„** | YOLO í† ë§ˆí†  ë¶„ì„ | 4-class ë¶„ë¥˜ (Ready, Not_Ready, Disease_Bad, Truss) |
| ğŸ’¬ **AI ì±—ë´‡** | ë†ì—… ì»¨ì„¤íŒ… | GPT + ì§€ì‹ë² ì´ìŠ¤ ì—°ë™ (ë†ì´Œì§„í¥ì²­ ìë£Œ) |
| ğŸ¦  **ë³‘í•´ì¶© ì§„ë‹¨** | AI ì§„ë‹¨ | GPT Vision ê¸°ë°˜ ë³‘í•´ì¶© ë¶„ì„ |
| ğŸ’° **ì‹œì¥ ê°€ê²©** | ë„ë§¤ê°€/ì˜¨ë¼ì¸ê°€ | KAMIS + ë„¤ì´ë²„ ì‡¼í•‘ ì—°ë™ |
| ğŸŒ± **ìˆ˜í™•ëŸ‰ ì˜ˆì¸¡** | ML ì˜ˆì¸¡ | Random Forest ëª¨ë¸ (RÂ² = 0.9084) |
| ğŸ“ **ë†ì¥ ì¼ì§€** | ê¸°ë¡ ê´€ë¦¬ | ì¼ë³„ ë°ì´í„° + ë©”ëª¨ ì €ì¥ |

## ğŸ“š ì§€ì‹ë² ì´ìŠ¤ (v2.0 ì‹ ê·œ)

AI ì±—ë´‡ì€ **ë†ì´Œì§„í¥ì²­ ã€Œë†ì—…ê¸°ìˆ ê¸¸ì¡ì´ 106 - í† ë§ˆí† ã€** 364í˜ì´ì§€ ìë£Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì „ë¬¸ì ì¸ ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤:

| ì¹´í…Œê³ ë¦¬ | í•­ëª© ìˆ˜ | ì˜ˆì‹œ |
|---------|--------|------|
| ğŸ¦  **ë³‘í•´** | 8ì¢… | ìê³°íŒ¡ì´ë³‘, í°ê°€ë£¨ë³‘, ì—­ë³‘, ì‹œë“¦ë³‘, í’‹ë§ˆë¦„ë³‘ ë“± |
| ğŸ› **í•´ì¶©** | 6ì¢… | ì˜¨ì‹¤ê°€ë£¨ì´, ì´ì±„ë²Œë ˆ, ì•„ë©”ë¦¬ì¹´ìêµ´íŒŒë¦¬, ë‹´ë°°ë‚˜ë°© ë“± |
| ğŸŒ¿ **ì˜ì–‘ì¥ì• ** | 10ì¢… | ì§ˆì†Œ/ì¸ì‚°/ì¹¼ë¦¬/ì¹¼ìŠ˜/ë§ˆê·¸ë„¤ìŠ˜ ê²°í• ë° ê³¼ì‰ |
| ğŸ… **ìƒë¦¬ì¥í•´** | 18ì¢… | ì—´ê³¼, ë°°ê¼½ì©ìŒê³¼, ê³µë™ê³¼, ì°©ìƒ‰ë¶ˆëŸ‰, ê¸°í˜•ê³¼ ë“± |
| ğŸ§¬ **ë°”ì´ëŸ¬ìŠ¤** | 3ì¢… | TYLCV, ToMV, CMV |

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **Workflow Engine**: n8n
- **Database**: InfluxDB (ì‹œê³„ì—´), PostgreSQL (ë©”íƒ€ë°ì´í„°, ì§€ì‹ë² ì´ìŠ¤)
- **AI/ML**: YOLOv8, GPT-4, scikit-learn
- **API Documentation**: Swagger/OpenAPI 3.0
- **Infrastructure**: Docker, nginx, systemd

## ğŸŒ ì„œë²„ í™˜ê²½

| í™˜ê²½ | URL | ìš©ë„ |
|-----|-----|-----|
| **ìš´ì˜ ì„œë²„** | https://n8n.seedfarm.co.kr | ì™¸ë¶€ ì ‘ê·¼ìš© (HTTPS) |
| **ë‚´ë¶€ ì„œë²„** | http://192.168.49.200:5679 | ì‚¬ë‚´ë§ ì „ìš© |
| **YOLO ì„œë²„** | localhost:8001 | ì´ë¯¸ì§€ ë¶„ì„ (n8n ì„œë²„ ë‚´ë¶€) |
| **ìˆ˜í™•ëŸ‰ ì˜ˆì¸¡** | localhost:8002 | ML ì˜ˆì¸¡ (n8n ì„œë²„ ë‚´ë¶€) |
| **InfluxDB** | localhost:8086 | ì‹œê³„ì—´ ë°ì´í„° |
| **PostgreSQL** | localhost:5432 | ë©”íƒ€ë°ì´í„°/ì§€ì‹ë² ì´ìŠ¤ |

## ğŸ“š API ë¬¸ì„œ

Swagger UIë¥¼ í†µí•´ ëŒ€í™”í˜• API ë¬¸ì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

**Swagger UI**: https://n8n.seedfarm.co.kr/api-docs

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
tomato-smartfarm-api/
â”œâ”€â”€ swagger/
â”‚   â””â”€â”€ swagger.yaml          # OpenAPI 3.0 ìŠ¤í™ ì •ì˜
â”œâ”€â”€ api/
â”‚   â””â”€â”€ tomatoApi.js          # í”„ë¡ íŠ¸ì—”ë“œìš© API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ swagger-server.js         # Swagger UI ì„œë²„
â”œâ”€â”€ README.md                 # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â””â”€â”€ package.json              # í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„°
```

---

## ğŸ“¤ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë°©ì‹

### ì—”ë“œí¬ì¸íŠ¸ë³„ ë°©ì‹ ìš”ì•½

| ì—”ë“œí¬ì¸íŠ¸ | ë°©ì‹ | Content-Type | ëŒ€ìƒ ì„œë²„ |
|-----------|------|--------------|----------|
| `/capture-analyze` | **FormData** | `multipart/form-data` | YOLO ì„œë²„ |
| `/disease-diagnosis` | **Base64** | `application/json` | GPT Vision API |

### ì™œ ë‹¤ë¥¸ ë°©ì‹ì„ ì‚¬ìš©í•˜ë‚˜?

| í•­ëª© | `/capture-analyze` | `/disease-diagnosis` |
|------|-------------------|---------------------|
| ëŒ€ìƒ | YOLO ì„œë²„ | GPT Vision API |
| ì„œë²„ ìš”êµ¬ì‚¬í•­ | FormData í•„ìˆ˜ | Base64 í•„ìˆ˜ |
| ë°ì´í„° í¬ê¸° | ì‘ìŒ (ì›ë³¸) | í¼ (+33%) |
| ì²˜ë¦¬ ì†ë„ | ë¹ ë¦„ | ëŠë¦¼ |

---

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸ ìš”ì•½

### ğŸ“Š Data (ë°ì´í„° ì¡°íšŒ)

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/webhook/data-realtime` | ì‹¤ì‹œê°„ í† ë§ˆí†  ë¶„ì„ ë°ì´í„° |
| GET | `/webhook/data-history?hours=24` | ê³¼ê±° ë°ì´í„° (ì‹œê°„ë³„) |
| GET | `/webhook/data-summary` | ì˜¤ëŠ˜ ì¼ì¼ ìš”ì•½ |

### ğŸ¥ Camera (ì¹´ë©”ë¼ ì œì–´)

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/webhook/camera-capture` | ì¦‰ì‹œ ì´¬ì˜ ë° ë¶„ì„ |
| POST | `/webhook/capture-test` | í…ŒìŠ¤íŠ¸ ì´¬ì˜ (ê°œë°œìš©) |
| POST | `/webhook/camera-start` | ìë™ ëª¨ë‹ˆí„°ë§ ì‹œì‘ |
| POST | `/webhook/camera-stop` | ìë™ ëª¨ë‹ˆí„°ë§ ì¤‘ì§€ |
| GET | `/webhook/camera-status` | ì¹´ë©”ë¼ ìƒíƒœ ì¡°íšŒ |
| POST | `/webhook/camera-interval` | ì´¬ì˜ ê°„ê²© ì„¤ì • |
| POST | `/webhook/camera-white-balance` | í™”ì´íŠ¸ë°¸ëŸ°ìŠ¤ ì„¤ì • |

### ğŸ¤– AI (ì¸ê³µì§€ëŠ¥)

| Method | Endpoint | Content-Type | Description |
|--------|----------|--------------|-------------|
| POST | `/webhook/chat-message` | `application/json` | AI ì±—ë´‡ (ì§€ì‹ë² ì´ìŠ¤ ì—°ë™) âœ¨ |
| POST | `/webhook/capture-analyze` | `multipart/form-data` | ì´ë¯¸ì§€ YOLO ë¶„ì„ **(FormData)** |
| POST | `/webhook/disease-diagnosis` | `application/json` | ë³‘í•´ì¶© AI ì§„ë‹¨ **(Base64)** |
| POST | `/webhook/raspberry-image` | `multipart/form-data` | ë¼ì¦ˆë² ë¦¬íŒŒì´ ì´ë¯¸ì§€ ìˆ˜ì‹  |

### ğŸ’° Market (ì‹œì¥ ê°€ê²©)

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/webhook/market-price` | ì‹¤ì‹œê°„ ì‹œì¥ ê°€ê²© |
| GET | `/webhook/price-compare` | ë„ë§¤ê°€ vs ì˜¨ë¼ì¸ê°€ ë¹„êµ |
| GET | `/webhook/price-history?start=YYYY-MM-DD&end=YYYY-MM-DD` | ê°€ê²© ì¶”ì´ ì¡°íšŒ **(í•„ìˆ˜ íŒŒë¼ë¯¸í„°)** |

### ğŸŒ± Prediction (ìˆ˜í™•ëŸ‰ ì˜ˆì¸¡)

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/webhook/yield-prediction` | ìˆ˜í™•ëŸ‰ ì˜ˆì¸¡ (RÂ² = 0.9084) |

### ğŸ“ Diary (ë†ì¥ ì¼ì§€)

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/webhook/app/diary?days=7` | ì¼ì§€ ëª©ë¡ ì¡°íšŒ |
| POST | `/webhook/app/diary` | ì¼ì§€ ì €ì¥ |

### ğŸ  Home (ì•± í™ˆ í™”ë©´)

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/webhook/app/home` | í™ˆ í™”ë©´ í†µí•© ë°ì´í„° |
| POST | `/webhook/app/chat` | ì•±ìš© ê°„í¸ ì±„íŒ… |
| POST | `/webhook/app/analyze` | ì•±ìš© ì´ë¯¸ì§€ ë¶„ì„ |

---

## ğŸ“ ì‚¬ìš© ì˜ˆì œ

### 1. AI ì±—ë´‡ ì§ˆë¬¸ (ì§€ì‹ë² ì´ìŠ¤ ì—°ë™) âœ¨

```bash
# ë³‘í•´ ì§ˆë¬¸
curl -X POST "https://n8n.seedfarm.co.kr/webhook/chat-message" \
  -H "Content-Type: application/json" \
  -d '{"message": "í† ë§ˆí†  ìì— í•˜ì–€ ê³°íŒ¡ì´ê°€ ìƒê²¼ì–´ìš”"}'

# í•´ì¶© ì§ˆë¬¸
curl -X POST "https://n8n.seedfarm.co.kr/webhook/chat-message" \
  -H "Content-Type: application/json" \
  -d '{"message": "ê°€ë£¨ì´ ë°©ì œ ë°©ë²• ì•Œë ¤ì£¼ì„¸ìš”"}'

# ìƒë¦¬ì¥í•´ ì§ˆë¬¸
curl -X POST "https://n8n.seedfarm.co.kr/webhook/chat-message" \
  -H "Content-Type: application/json" \
  -d '{"message": "ë°°ê¼½ì©ìŒê³¼ê°€ ë°œìƒí–ˆì–´ìš”"}'
```

**ì‘ë‹µ:**
```json
{
  "response": "ë§ì”€í•˜ì‹  ì¦ìƒì€ 'í°ê°€ë£¨ë³‘'ì¼ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ğŸ§ í†µí’ì´ ì›í™œí•˜ì§€ ì•Šê±°ë‚˜ ì•¼ê°„ ì˜¨ë„ê°€ ë‚®ì„ ë•Œ ë°œìƒí•˜ê¸° ì‰½ìŠµë‹ˆë‹¤. ê°ì—¼ëœ ìì€ ì œê±°í•˜ê³  í™˜ê¸°ëŸ‰ì„ ëŠ˜ë ¤ì£¼ì„¸ìš”.",
  "timestamp": "2025-12-10T07:39:07.566Z",
  "success": true
}
```

### 2. ì‹¤ì‹œê°„ ë°ì´í„° ì¡°íšŒ

```bash
curl -X GET "https://n8n.seedfarm.co.kr/webhook/data-realtime"
```

**ì‘ë‹µ:**
```json
{
  "Ready": 45,
  "Not_Ready": 23,
  "Disease_Bad": 2,
  "Truss": 8
}
```

### 3. ì¦‰ì‹œ ì´¬ì˜ ë° ë¶„ì„

```bash
curl -X POST "https://n8n.seedfarm.co.kr/webhook/camera-capture"
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "data": {
    "Ready": 35,
    "Not_Ready": 18,
    "Disease_Bad": 2,
    "Truss": 6,
    "ripeness_rate": 66,
    "disease_rate": 4
  },
  "timestamp": "2025-12-10T07:30:00Z"
}
```

### 4. YOLO ì´ë¯¸ì§€ ë¶„ì„ (FormData)

```bash
curl -X POST "https://n8n.seedfarm.co.kr/webhook/capture-analyze" \
  -F "image=@tomato.jpg"
```

**JavaScript:**
```javascript
const formData = new FormData();
formData.append('image', imageFile);

const response = await fetch('https://n8n.seedfarm.co.kr/webhook/capture-analyze', {
  method: 'POST',
  body: formData
});
```

### 5. ë³‘í•´ì¶© ì§„ë‹¨ (Base64)

```bash
# Base64 ì¸ì½”ë”©
BASE64_IMAGE=$(base64 -i tomato.jpg)

curl -X POST "https://n8n.seedfarm.co.kr/webhook/disease-diagnosis" \
  -H "Content-Type: application/json" \
  -d "{\"image\": \"$BASE64_IMAGE\", \"mimeType\": \"image/jpeg\"}"
```

### 6. ìˆ˜í™•ëŸ‰ ì˜ˆì¸¡

```bash
curl -X POST "https://n8n.seedfarm.co.kr/webhook/yield-prediction" \
  -H "Content-Type: application/json" \
  -d '{
    "temperature": 25.5,
    "humidity": 70,
    "co2": 800,
    "ec": 2.5,
    "facility_type": "ë¹„ë‹",
    "area": 1000
  }'
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "predicted_yield": 2847.52,
  "predicted_yield_total": 862884.85,
  "confidence_interval": {
    "lower": 2420.39,
    "upper": 3274.65,
    "confidence_level": "85%"
  },
  "model_used": "v3_vinyl",
  "recommendations": [
    "âœ… í˜„ì¬ í™˜ê²½ ì¡°ê±´ì´ ì–‘í˜¸í•©ë‹ˆë‹¤. í˜„ ìƒíƒœë¥¼ ìœ ì§€í•˜ì„¸ìš”."
  ]
}
```

### 7. ì‹œì¥ ê°€ê²© ë¹„êµ

```bash
curl -X GET "https://n8n.seedfarm.co.kr/webhook/price-compare"
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "date": "2025-12-10",
  "wholesale_summary": {
    "high": 3520,
    "mid": 3080,
    "cherry": 5800
  },
  "online_summary": {
    "lowest_price": 5900,
    "lowest_mall": "ì±„ì†ŒíŒœ",
    "median_price": 13050,
    "average_price": 13566,
    "mall_count": 49
  },
  "comparison": [
    {
      "grade": "ìƒí’ˆ",
      "wholesale_price": 3520,
      "online_lowest": 5900,
      "margin_rate": 68
    }
  ]
}
```

### 8. ê°€ê²© ì¶”ì´ ì¡°íšŒ

```bash
curl -X GET "https://n8n.seedfarm.co.kr/webhook/price-history?start=2025-12-03&end=2025-12-10"
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "period": {
    "start": "2025-12-03",
    "end": "2025-12-10"
  },
  "count": 5,
  "data": [
    {"date": "2025-12-03", "high": 3640, "mid": 3120, "cherry": 6000},
    {"date": "2025-12-10", "high": 3520, "mid": 3080, "cherry": 5800}
  ],
  "stats": {
    "high": {"min": 3520, "max": 3640, "avg": 3584, "change": -120}
  }
}
```

---

## ğŸ”§ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend / Mobile App                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              https://n8n.seedfarm.co.kr                      â”‚
â”‚                      (nginx reverse proxy)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              n8n ì„œë²„ (192.168.49.200)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   n8n       â”‚  â”‚  YOLO API   â”‚  â”‚  Yield API  â”‚          â”‚
â”‚  â”‚  Workflows  â”‚  â”‚  :8001      â”‚  â”‚  :8002      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                â”‚                â”‚                  â”‚
â”‚         â–¼                â–¼                â–¼                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚              Internal Services                   â”‚        â”‚
â”‚  â”‚  â€¢ InfluxDB :8086 (ì‹œê³„ì—´ ë°ì´í„°)               â”‚        â”‚
â”‚  â”‚  â€¢ PostgreSQL :5432 (ë©”íƒ€ë°ì´í„°)                â”‚        â”‚
â”‚  â”‚  â€¢ ì§€ì‹ë² ì´ìŠ¤ JSON (45ê°œ í•­ëª©)                  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  External    â”‚    â”‚  Raspberry   â”‚    â”‚   ê¹€ì œ       â”‚
â”‚  APIs        â”‚    â”‚  Pi Camera   â”‚    â”‚   ì‹¤ì¦í•˜ìš°ìŠ¤  â”‚
â”‚              â”‚    â”‚  (ê¹€ì œ)      â”‚    â”‚              â”‚
â”‚ â€¢ GPT-4      â”‚    â”‚              â”‚    â”‚ â€¢ ì´ë¯¸ì§€ì €ì¥  â”‚
â”‚ â€¢ KAMIS      â”‚    â”‚              â”‚    â”‚ â€¢ í™˜ê²½ì„¼ì„œ   â”‚
â”‚ â€¢ ë„¤ì´ë²„ì‡¼í•‘  â”‚    â”‚              â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ ë°ì´í„° í•„ë“œ ì„¤ëª…

### í† ë§ˆí†  ë¶„ì„ ê²°ê³¼ (YOLO 4-class)

| í•„ë“œ | í•œê¸€ëª… | ì„¤ëª… |
|------|--------|------|
| `Ready` | ìˆ˜í™• ê°€ëŠ¥ | ì™„ìˆ™ í† ë§ˆí†  ê°œìˆ˜ |
| `Not_Ready` | ë¯¸ì„±ìˆ™ | ì•„ì§ ìµì§€ ì•Šì€ í† ë§ˆí†  |
| `Disease_Bad` | ë³‘í•´ | ë³‘í•´ì¶© ê°ì—¼ í† ë§ˆí†  |
| `Truss` | í™”ë°© | ê½ƒë´‰ìš°ë¦¬/ê½ƒì†¡ì´ ê°œìˆ˜ |

### ì•±ìš© í•„ë“œëª… ë§¤í•‘

í”„ë¡ íŠ¸ì—”ë“œ ì•±ì—ì„œëŠ” ì†Œë¬¸ì í•„ë“œëª…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

| API ì‘ë‹µ | ì•± ì‚¬ìš© |
|---------|---------|
| `Ready` | `ready` |
| `Not_Ready` | `not_ready` |
| `Disease_Bad` | `disease` |
| `Truss` | `truss` |

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **CORS**: ìš´ì˜ ì„œë²„ëŠ” nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ í†µí•´ CORSê°€ ì²˜ë¦¬ë©ë‹ˆë‹¤.

2. **ì´ë¯¸ì§€ ì—…ë¡œë“œ**: 
   - `/capture-analyze`: `multipart/form-data` (FormData)
   - `/disease-diagnosis`: `application/json` (Base64)

3. **ë‚ ì§œ/ì‹œê°„**: ëª¨ë“  timestampëŠ” ISO 8601 í˜•ì‹ (UTC)ì…ë‹ˆë‹¤.

4. **ì—ëŸ¬ ì²˜ë¦¬**: ëª¨ë“  ì‘ë‹µì— `success` í•„ë“œê°€ í¬í•¨ë©ë‹ˆë‹¤.

5. **ì§€ì‹ë² ì´ìŠ¤**: AI ì±—ë´‡ì€ ë³‘í•´/í•´ì¶©/ì˜ì–‘ì¥ì• /ìƒë¦¬ì¥í•´ í‚¤ì›Œë“œ ê°ì§€ ì‹œ ìë™ìœ¼ë¡œ ì§€ì‹ë² ì´ìŠ¤ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ISC

## ğŸ‘¥ ê¸°ì—¬ì

SEED FARM ê°œë°œíŒ€

## ğŸ“ ë¬¸ì˜

ì´ìŠˆê°€ ìˆìœ¼ì‹œë©´ ê°œë°œíŒ€ì— ë¬¸ì˜í•´ì£¼ì„¸ìš”.

---

**ë²„ì „**: 2.0.0  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-10